const channels = {};

const subscribeChannel = (websocket, channel, namespace) => {
    const data = {
      event: 'subscribe',
      channel,
      namespace,
    };

    // if websocket is not open, wait for it to open
    if (websocket.readyState === 1) {
        websocket.send(JSON.stringify(data));
    } else {
        websocket.onopen = () => {
            websocket.send(JSON.stringify(data));
        };
    }
  };
  
  const unsubscribeChannel = (websocket, channel, namespace) => {
    const data = {
      event: 'unsubscribe',
      channel,
      namespace,
    };
  
    websocket.send(JSON.stringify(data));
  };
  
  module.exports = {
    subscribeChannel,
    unsubscribeChannel,
  };
  
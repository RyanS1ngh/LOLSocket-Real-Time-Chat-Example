const handleConnectionError = (websocket) => {
    websocket.onerror = (error) => {
      console.error('WebSocket error:', error.message);
    };
  };

  const automaticReconnect = (apiKey, apiSecret, callback) => {
    const createConnection = require('./connection.js');
    let websocket = createConnection(apiKey, apiSecret);
  
    const reconnect = () => {
      console.log('Attempting to reconnect...');
      websocket = createConnection(apiKey, apiSecret);
      callback(websocket);
    };
  
    websocket.onclose = () => {
      console.log('WebSocket closed unexpectedly. Reconnecting...');
      reconnect();
    };
  
    return websocket;
  };
  
  module.exports = { handleConnectionError, automaticReconnect};
  